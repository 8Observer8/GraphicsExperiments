"use strict";var Vec2=function(){function a(){}return a.Create=function(){return new Float32Array([0,0])},a.FromValues=function(a,b){return new Float32Array([a,b])},a.Add=function(a,b,c){a[0]=b[0]+c[0],a[1]=b[1]+c[1]},a.Subtract=function(a,b,c){a[0]=b[0]-c[0],a[1]=b[1]-c[1]},a.Copy=function(a){return new Float32Array([a[0],a[1]])},a.Clone=function(a,b){a[0]=b[0],a[1]=b[1]},a.Distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.sqrt(c*c+d*d)},a.SquaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d},a.Dot=function(a,b){return a[0]*b[0]+a[1]*b[1]},a.bEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]},a.Length=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},a.SquaredLength=function(a){return a[0]*a[0]+a[1]*a[1]},a.Lerp=function(a,b,c,d){a[0]=b[0]+d*(c[0]-b[0]),a[1]=b[1]+d*(c[1]-b[1])},a.Multiply=function(a,b,c){a[0]=b[0]*c[0],a[1]=b[1]*c[1]},a.MultiplyScalar=function(a,b,c){a[0]=b[0]*c,a[1]=b[1]*c},a.Normalize=function(a,b){var c=b[0]*b[0]+b[1]*b[1];c>0&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c)},a.ToString=function(a){return"Vec2: ["+a[0]+", "+a[1]+"]"},a}(),Vec3=function(){function a(){}return a.Create=function(){return new Float32Array([0,0,0])},a.FromValues=function(a,b,c){return new Float32Array([a,b,c])},a.Add=function(a,b,c){a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2]},a.Subtract=function(a,b,c){a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2]},a.Copy=function(a){return new Float32Array([a[0],a[1],a[2]])},a.Clone=function(a,b){a[0]=b[0],a[1]=b[1],a[2]=b[2]},a.Distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return Math.sqrt(c*c+d*d+e*e)},a.SquaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return c*c+d*d+e*e},a.Dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},a.Cross=function(a,b,c){a[0]=b[1]*c[2]-b[2]*c[1],a[1]=b[2]*c[0]-b[0]*c[2],a[2]=b[0]*c[1]-b[1]*c[0]},a.bEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]},a.Length=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])},a.SquaredLength=function(a){return a[0]*a[0]+a[1]*a[1]+a[2]*a[2]},a.Lerp=function(a,b,c,d){a[0]=b[0]+d*(c[0]-b[0]),a[1]=b[1]+d*(c[1]-b[1]),a[2]=b[2]+d*(c[2]-b[2])},a.Multiply=function(a,b,c){a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2]},a.MultiplyScalar=function(a,b,c){a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c},a.Normalize=function(a,b){var c=b[0]*b[0]+b[1]*b[1]+b[2]*b[2];c>0&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c)},a.ToString=function(a){return"Vec3: ["+a[0]+", "+a[1]+", "+a[2]+"]"},a}(),Vec4=function(){function a(){}return a.Create=function(){return new Float32Array([0,0,0,0])},a.FromValues=function(a,b,c,d){return new Float32Array([a,b,c,d])},a.Add=function(a,b,c){a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3]},a.Subtract=function(a,b,c){a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3]},a.Copy=function(a){return new Float32Array([a[0],a[1],a[2],a[3]])},a.Clone=function(a,b){a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]},a.Distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return Math.sqrt(c*c+d*d+e*e+f*f)},a.SquaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return c*c+d*d+e*e+f*f},a.Dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},a.bEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]},a.Length=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]+a[3]*a[3])},a.SquaredLength=function(a){return a[0]*a[0]+a[1]*a[1]+a[2]*a[2]+a[3]*a[3]},a.Lerp=function(a,b,c,d){a[0]=b[0]+d*(c[0]-b[0]),a[1]=b[1]+d*(c[1]-b[1]),a[2]=b[2]+d*(c[2]-b[2]),a[3]=b[3]+d*(c[3]-b[3])},a.Multiply=function(a,b,c){a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a[3]=b[3]*c[3]},a.MultiplyScalar=function(a,b,c){a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c},a.Normalize=function(a,b){var c=b[0]*b[0]+b[1]*b[1]+b[2]*b[2]+b[3]*b[3];c>0&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c)},a.ToString=function(a){return"Vec4: ["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"},a}(),Mat2=function(){function a(){}return a.Create=function(){return new Float32Array([1,0,0,1])},a.Copy=function(a){return new Float32Array([a[0],a[1],a[2],a[3]])},a.Clone=function(a,b){a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]},a.SetIdentity=function(a){a[0]=1,a[1]=0,a[2]=0,a[3]=1},a.Determinant=function(a){return a[0]*a[3]-a[2]*a[1]},a.bEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]},a.Invert=function(b,c){var d=c[0],e=c[1],f=c[2],g=c[3],h=a.Determinant(c);h&&(h=1/h,b[0]=g*h,b[1]=-e*h,b[2]=-f*h,b[3]=d*h)},a.Multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];a[0]=d*h+f*i,a[1]=e*h+g*i,a[2]=d*j+f*k,a[3]=e*j+g*k},a.Transpose=function(a,b){a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3]},a.TransposeItself=function(a){var b=a[1];a[1]=a[2],a[2]=b},a}(),Mat3=function(){function a(){}return a.Create=function(){return new Float32Array([1,0,0,0,1,0,0,0,1])},a.Copy=function(a){return new Float32Array([a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]])},a.Clone=function(a,b){a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8]},a.SetIdentity=function(a){a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[3]=1,a[3]=0,a[3]=0,a[3]=0,a[3]=1},a.Determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8];return b*(j*f-g*i)+c*(-j*e+g*h)+d*(i*e-f*h)},a.bEquals=function(a,b){return a[0]==b[0]&&a[1]==b[1]&&a[2]==b[2]&&a[3]==b[3]&&a[4]==b[4]&&a[5]==b[5]&&a[6]==b[6]&&a[7]==b[7]&&a[8]==b[8]},a.FromRotationTranslationScale=function(a,b,c,d){var e=Math.cos(c),f=Math.sin(c);a[0]=d[0]*e,a[1]=d[1]*f,a[4]=-d[0]*f,a[5]=d[1]*e,a[12]=b[0],a[13]=b[1]},a.Invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=k*g-h*j,m=-k*f+h*i,n=j*f-g*i,o=c*l+d*m+e*n;o&&(o=1/o,a[0]=l*o,a[1]=(-k*d+e*j)*o,a[2]=(h*d-e*g)*o,a[3]=m*o,a[4]=(k*c-e*i)*o,a[5]=(-h*c+e*f)*o,a[6]=n*o,a[7]=(-j*c+d*i)*o,a[8]=(g*c-d*f)*o)},a.Multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1],o=c[2],p=c[3],q=c[4],r=c[5],s=c[6],t=c[7],u=c[8];a[0]=m*d+n*g+o*j,a[1]=m*e+n*h+o*k,a[2]=m*f+n*i+o*l,a[3]=p*d+q*g+r*j,a[4]=p*e+q*h+r*k,a[5]=p*f+q*i+r*l,a[6]=s*d+t*g+u*j,a[7]=s*e+t*h+u*k,a[8]=s*f+t*i+u*l},a.Transpose=function(a,b){a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8]},a.TransposeItself=function(a){var b=a[1],c=a[2],d=a[5];a[1]=a[3],a[2]=a[6],a[3]=b,a[5]=a[7],a[6]=c,a[7]=d},a.CreateNormalMat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;E&&(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(i*A-g*D-j*z)*E,a[2]=(g*C-h*A+j*y)*E,a[3]=(e*C-d*D-f*B)*E,a[4]=(c*D-e*A+f*z)*E,a[5]=(d*A-c*C-f*y)*E,a[6]=(p*x-q*w+r*v)*E,a[7]=(q*u-o*x-r*t)*E,a[8]=(o*w-p*u+r*s)*E)},a}(),Mat4=function(){function a(){}return a.Create=function(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},a.Copy=function(a){return new Float32Array([a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]])},a.Clone=function(a,b){a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]},a.SetIdentity=function(a){a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1},a.Determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14],q=a[15],r=b*g-c*f,s=b*h-d*f,t=b*i-e*f,u=c*h-d*g,v=c*i-e*g,w=d*i-e*h,x=j*o-k*n,y=j*p-l*n,z=j*q-m*n,A=k*p-l*o,B=k*q-m*o,C=l*q-m*p;return r*C-s*B+t*A+u*z-v*y+w*x},a.bEquals=function(a,b){return a[0]==b[0]&&a[1]==b[1]&&a[2]==b[2]&&a[3]==b[3]&&a[4]==b[4]&&a[5]==b[5]&&a[6]==b[6]&&a[7]==b[7]&&a[8]==b[8]&&a[9]==b[9]&&a[10]==b[10]&&a[11]==b[11]&&a[12]==b[12]&&a[13]==b[13]&&a[14]==b[14]&&a[15]==b[15]},a.Invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;E&&(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(e*C-d*D-f*B)*E,a[2]=(p*x-q*w+r*v)*E,a[3]=(m*w-l*x-n*v)*E,a[4]=(i*A-g*D-j*z)*E,a[5]=(c*D-e*A+f*z)*E,a[6]=(q*u-o*x-r*t)*E,a[7]=(k*x-m*u+n*t)*E,a[8]=(g*C-h*A+j*y)*E,a[9]=(d*A-c*C-f*y)*E,a[10]=(o*w-p*u+r*s)*E,a[11]=(l*u-k*w-n*s)*E,a[12]=(h*z-g*B-i*y)*E,a[13]=(c*B-d*z+e*y)*E,a[14]=(p*t-o*v-q*s)*E,a[15]=(k*v-l*t+m*s)*E)},a.Multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],t=c[0],u=c[1],v=c[2],w=c[3];a[0]=t*d+u*h+v*l+w*p,a[1]=t*e+u*i+v*m+w*q,a[2]=t*f+u*j+v*n+w*r,a[3]=t*g+u*k+v*o+w*s,t=c[4],u=c[5],v=c[6],w=c[7],a[4]=t*d+u*h+v*l+w*p,a[5]=t*e+u*i+v*m+w*q,a[6]=t*f+u*j+v*n+w*r,a[7]=t*g+u*k+v*o+w*s,t=c[8],u=c[9],v=c[10],w=c[11],a[8]=t*d+u*h+v*l+w*p,a[9]=t*e+u*i+v*m+w*q,a[10]=t*f+u*j+v*n+w*r,a[11]=t*g+u*k+v*o+w*s,t=c[12],u=c[13],v=c[14],w=c[15],a[12]=t*d+u*h+v*l+w*p,a[13]=t*e+u*i+v*m+w*q,a[14]=t*f+u*j+v*n+w*r,a[15]=t*g+u*k+v*o+w*s},a.Transpose=function(a,b){a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15]},a.TransposeItself=function(a){var b=a[1],c=a[2],d=a[3],e=a[6],f=a[7],g=a[11];a[1]=a[4],a[2]=a[8],a[3]=a[12],a[4]=b,a[6]=a[9],a[7]=a[13],a[8]=c,a[9]=e,a[11]=a[14],a[12]=d,a[13]=f,a[14]=g},a.CreateViewMat=function(a,b,c,d){var e=b[0]-c[0],f=b[1]-c[1],g=b[2]-c[2],h=e*e+f*f+g*g;0===h?(e=0,f=0,g=0):(h=1/Math.sqrt(h),e*=h,f*=h,g*=h);var i=d[1]*g-d[2]*f,j=d[2]*e-d[0]*g,k=d[0]*f-d[1]*e;h=i*i+j*j+k*k,0===h?(i=0,j=0,k=0):(h=1/Math.sqrt(h),i*=h,j*=h,k*=h);var l=f*k-g*j,m=g*i-e*k,n=e*j-f*i;h=l*l+m*m+n*n,0===h?(l=0,m=0,n=0):(h=1/Math.sqrt(h),l*=h,m*=h,n*=h),a[0]=i,a[1]=l,a[2]=e,a[4]=j,a[5]=m,a[6]=f,a[8]=k,a[9]=n,a[10]=g,a[12]=-(i*b[0]+j*b[1]+k*b[2]),a[13]=-(l*b[0]+m*b[1]+n*b[2]),a[14]=-(e*b[0]+f*b[1]+g*b[2])},a.CreateOrthographicProjectionMat=function(a,b,c,d,e,f,g){var h=1/(b-c),i=1/(e-d),j=1/(f-g);a[0]=-2*h,a[5]=-2*i,a[10]=2*j,a[12]=(b+c)*h,a[13]=(d+e)*i,a[14]=(f+g)*j},a.CreatePerspectiveProjectionMat=function(a,b,c,d,e){var f=1/Math.tan(c/2),g=1/(d-e);a[0]=f/b,a[5]=f,a[10]=(e+d)*g,a[11]=-1,a[14]=2*e*d*g,a[15]=0},a.FromRotationTranslationScale=function(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=b[3],i=e+e,j=f+f,k=g+g,l=e*i,m=f*i,n=f*j,o=g*i,p=g*j,q=g*k,r=h*i,s=h*j,t=h*k;a[0]=(1-(n+q))*d[0],a[1]=(m+t)*d[0],a[2]=(o-s)*d[0],a[3]=0,a[4]=(m-t)*d[1],a[5]=(1-(l+q))*d[1],a[6]=(p+r)*d[1],a[7]=0,a[8]=(o+s)*d[2],a[9]=(p-r)*d[2],a[10]=(1-(l+n))*d[2],a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1},a}(),Quat=function(){function a(){}return a.Create=function(){return new Float32Array([0,0,0,1])},a.Copy=function(a){return new Float32Array([a[0],a[1],a[2],a[3]])},a.Clone=function(a,b){a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]},a.bEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]},a.SetIdentity=function(a){a[0]=0,a[1]=0,a[2]=0,a[3]=1},a.SetFromAxisAngle=function(a,b,c){c*=.5;var d=Math.sin(c);a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=Math.cos(c)},a.Multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];a[0]=d*k+g*h+e*j-f*i,a[1]=e*k+g*i+f*h-d*j,a[2]=f*k+g*j+d*i-e*h,a[3]=g*k-d*h-e*i-f*j},a.Normalize=function(a,b){var c=b[0]*b[0]+b[1]*b[1]+b[2]*b[2]+b[3]*b[3];c>0&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c)},a.MultiplyWithVector=function(a,b,c){var d=2*b[0],e=2*b[1],f=2*b[2],g=b[0]*d,h=b[1]*e,i=b[2]*f,j=b[0]*e,k=b[0]*f,l=b[1]*f,m=b[3]*d,n=b[3]*e,o=b[3]*f;a[0]=(1-(h+i))*c[0]+(j-o)*c[1]+(k+n)*c[2],a[1]=(j+o)*c[0]+(1-(g+i))*c[1]+(l-m)*c[2],a[2]=(k-n)*c[0]+(l+m)*c[1]+(1-(g+h))*c[2]},a.ToString=function(a){return"Vec4: ["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"},a}();